<!doctype html>
<html lang="ro">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <title>Monopoly – Online & Local</title>
    <link rel="stylesheet" href="./style.css?v=7" />
    <script src="https://unpkg.com/@supabase/supabase-js@2.46.1/dist/umd/supabase.js"></script>
</head>
<body>
    <main class="container">
        <section id="lobby" class="card">
            <h1>Monopoly</h1>

            <div class="row">
                <label>Nickname</label>
                <input id="nick" placeholder="ex: Razvan" maxlength="16" />
            </div>

            <div class="row">
                <label>Cod cameră</label>
                <input id="roomCode" placeholder="ex: AB12" maxlength="6" />
            </div>

            <div class="btns">
                <button id="createBtn">Creează cameră (online)</button>
                <button id="joinBtn" class="secondary">Intră (online)</button>
            </div>

            <hr style="border-color:#1d2735;margin:16px 0">

            <div class="row">
                <label>
                    <input type="checkbox" id="localMode" />
                    Joacă local (același dispozitiv)
                </label>
            </div>

            <div id="localSetup" class="card" style="margin-top:10px;display:none">
                <h3>Jucători locali</h3>
                <div id="localPlayers"></div>
                <div class="btns" style="margin-top:10px">
                    <button id="addLocal">+ Adaugă jucător</button>
                    <button id="startLocalBtn" class="secondary">Start joc local</button>
                </div>
                <p class="hint">2–6 jucători. Numele pot fi editate înainte de start.</p>
            </div>
        </section>

        <section id="game" class="hidden">
            <div class="topbar">
                <div>
                    <span id="modeLbl">Cameră:</span>
                    <span id="codeLbl"></span> · Tura: <span id="turnLbl">-</span>
                </div>
                <div id="presence"></div>
            </div>

            <div class="layout">
                <aside class="panel">
                    <h3>Jucători</h3>
                    <ul id="playersList"></ul>
                    <div class="actions actions-sticky">
                        <button id="rollBtn">Aruncă zarul 🎲</button>
                        <button id="buyBtn" class="secondary hidden">Cumpără</button>
                        <button id="endBtn" class="secondary hidden">Termină tura</button>
                    </div>
                    <div id="youAre"></div>
                </aside>

                <section class="board">
                    <!-- strat pentru zaruri (deasupra tablei) -->
                    <div id="diceLayer" class="dice-layer hidden">
                        <div class="die" id="d1">•</div>
                        <div class="die" id="d2">•</div>
                    </div>
                    <!-- tabla se injectează din JS -->
                </section>

                <aside class="panel">
                    <h3>Detalii</h3>
                    <div id="inspector" class="inspect">Selectează o căsuță…</div>

                    <h3 style="margin-top:12px">Portofolii</h3>
                    <div id="portfolio" class="portfolio"></div>

                    <h3 style="margin-top:12px">Evenimente</h3>
                    <div id="log" class="log"></div>
                </aside>
            </div>
        </section>
    </main>

    <script type="module" src="./app.js?v=7"></script>
</body>
</html>
